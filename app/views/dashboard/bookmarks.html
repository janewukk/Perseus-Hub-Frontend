{% extends 'dashboard/base.html' %}

{% block tabstyles %}
<style type="text/css">
	.panel {
		margin-top: 20px;
	}
	.progress {
		display: none;
	}
</style>
{% endblock %}

{% block tabs %}
<li>
	<a data-toggle="collapse" href="#dataset-sections" 
		aria-expanded="false" 
		aria-controls="dataset-sections">
		<i class="fa fa-database" aria-hidden="true"></i> Datasets
	</a>
	<ul class="collapse nav" id="dataset-sections">
		<li><a href="/dashboard/">Public datasets</a></li>
		<li><a href="/dashboard/?my">My Datasets</a></li>
	</ul>
</li>
<li class="active">
	<a data-toggle="collapse" href="#bookmark-sections" 
		aria-expanded="false" 
		aria-controls="bookmark-sections">
		<i class="fa fa-bookmark" aria-hidden="true"></i> Bookmarks
	</a>
	<ul class="collapse nav" id="bookmark-sections">
		<li><a href="/bookmarks/">Public bookmarks</a></li>
		<li><a href="/bookmarks/?my">My bookmarks</a></li>
	</ul>
</li>
<li>
	<a href="/upload/">
		<i class="fa fa-upload" aria-hidden="true"></i> Upload data file
	</a>
</li>
{% endblock %}

{% block tabdetails %}
{% if bookmarks %}
<div class="row" style="margin-top: 20px">
	<div class="col-sm-10 col-offset-sm-1">
		<table class="table table-hover">
		  <thead>
		  	<tr>
		  		<th>X coordinate</th>
		  		<th>Y coordinate</th>
		  		<th>Property name</th>
		  		<th>Priority</th>
		  		<th>Is publicized</th>
		  		<th>Created at</th>
		  		<th>View dataset</th>
		  		<th>Uploader</th>
		  	</tr>
		  </thead>
		  <tbody>
		  	{% for bookmark in bookmarks %}
		  	<tr>
		  		<td>{{ bookmark.x_coord }}</td>
		  		<td>{{ bookmark.y_coord }}</td>
		  		<th>{{ bookmark.prop }}</th>
		  		<th>{{ bookmark.priority }}</th>
		  		<th>{{ bookmark.publicized|yesno:"Yes,No" }}</th>
		  		<th>{{ bookmark.created_at }}</th>
		  		<th>
		  			<button type="button" class="btn btn-primary" onclick="window.location.href='/datasets/{{ bookmark.dataset.id }}/'">View</button>
		  		</th>
		  		<th><a href="mailto:{{ bookmark.creator.email }}">{{ bookmark.creator.email }}</a></th>
		  	</tr>
		  	{% endfor %}
		  </tbody>
		</table>
	</div>
</div>
{% else %}
<div class="row" style="margin-top:20px">
	<div class="container">
		<h2>Oops. No bookmarks available!</h2>
	</div>
</div>
{% endif %}
{% include 'components/modal.html' %}

{% endblock %}

{% block tabscripts %}
<script type="text/javascript">
	
</script>
{% endblock %}